{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","images/notFound.png","components/Card.js","components/Main.js","components/Footer.js","components/ModalWithInfo.js","components/LoadingSpinner.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","authorization","this","_baseUrl","_authorization","res","ok","json","Promise","reject","status","title","fetch","then","_checkStatus","pageNumber","id","Header","className","href","src","logoPath","alt","Card","props","movie","Poster","imageNotFoundPath","Title","onClick","openInfo","imdbID","Main","movies","onSubmit","showError","forward","back","setTitle","totalPages","e","preventDefault","name","value","onChange","target","placeholder","minLength","maxLength","required","autoFocus","type","map","item","Footer","Date","getFullYear","ModalWithInfo","onClose","isOpen","data","Director","Actors","Plot","LoadingSpinner","isLoading","App","React","useState","moviesList","setMoviesList","currentMovie","setCurrentMovie","isInfoModalOpen","setIsInfoModalOpen","isErrorShow","setIsErrorShow","setIsLoading","page","setPage","movieValue","setMovieValue","setTotalPages","getMovies","Response","Math","ceil","totalResults","Search","catch","err","console","log","getMoviesbyId","getMoviesPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.504c7b35.chunk.js","sourcesContent":["import './api.css';\n\n//Класс содержит всю логику для работы с API\nclass Api {\n  constructor(baseUrl, authorization) {\n    this._baseUrl = baseUrl;\n    this._authorization = authorization;\n  }\n\n  //проверка состояния промиса, чтобы не писать одно и то же сто тыщ раз\n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  //получение информации о фильмах с сервера (дефолтная, первая страница, для кнопки 'search')\n  getMovies(title) {\n    return fetch(`${this._baseUrl}?s=${title}&apikey=${this._authorization}`)\n    .then(res => this._checkStatus(res));\n  }\n\n  getMoviesPage(title, pageNumber) {\n    return fetch(`${this._baseUrl}?s=${title}&apikey=${this._authorization}&page=${pageNumber}`)\n    .then(res => this._checkStatus(res));\n  }\n\n  //получение информации о фильмах с сервера с расширенной инфой\n  getMoviesbyId(id) {\n    return fetch(`${this._baseUrl}?i=${id}&apikey=${this._authorization}&plot=full`)\n    .then(res => this._checkStatus(res));\n  }\n\n\n};\n\nconst api = new Api(\"https://www.omdbapi.com/\", \"5cd3eeda\");\nexport default api;\n","export default __webpack_public_path__ + \"static/media/logo.460afd90.svg\";","//ФК, отвечающий за заголовок\nimport React from 'react';\nimport logoPath from '../images/logo.svg';\n\nfunction Header() {\n  return (\n    <>\n    <a className=\"header__link\" href=\"https://github.com/Ihomeeer\">\n      <img className=\"header__logo\" src={logoPath} alt=\"logo\" />\n    </a>\n      <h1 className=\"header__title\">Movie Search Engine</h1>\n      <p className=\"header__subtitle\">Search for your favourite movies by title</p>\n    </>\n  )\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/notFound.0d61eb5c.png\";","//ФК, возвращающий разметку карточки с фильмом\r\nimport React from 'react';\r\nimport imageNotFoundPath from \"../images/notFound.png\"\r\n\r\nfunction Card(props) {\r\n\r\n  function getMovieData() {\r\n    props.openInfo(props.movie.imdbID);\r\n  }\r\n\r\n  return (\r\n    <li key={props.movie.imdbID} className=\"card\" >\r\n      <img src={props.movie.Poster === \"N/A\" ? imageNotFoundPath : props.movie.Poster} alt={props.movie.Title} className=\"card__photo\" />\r\n      <h2 className=\"card__name\" id=\"cardName\">{props.movie.Title}</h2>\r\n      <button className=\"card__info\" onClick={getMovieData}>Learn more</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card;","//ФК, отвечающий за рендер карточек с фильмами, и возвращающий разметку поисковой строки и карточек\nimport React from 'react';\nimport Card from './Card';\n\nfunction Main({ movies, onSubmit, openInfo, showError, forward, back, title, setTitle, totalPages }) {\n\n  function handleMovieChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSubmit(title);\n  }\n\n  return (\n    <main className=\"main\">\n      <form className=\"main__form\" onSubmit={handleSubmit}>\n        <input name=\"movieTitle\" className=\"main__search-input\" value={title} onChange={handleMovieChange} placeholder=\"Search for movies\" minLength=\"2\" maxLength=\"30\" required autoFocus></input>\n        <button name=\"submitButton\" className=\"main__search-button\" type=\"submit\">Search</button>\n      </form>\n      <p className={`main__error ${showError ? 'main__error_active' : \"\"}`}>No such movies found...</p>\n      <ul className=\"main__grid\">\n        {movies.map(item => {\n          return (\n            <Card movie={item} key={item.imdbID} openInfo={openInfo} />)\n        })}\n      </ul>\n      <nav className=\"main__pages\">\n        {totalPages > 1\n          &&\n          <>\n            <button className=\"main__nav-button main__nav-button_type_back\" onClick={() => { back(title) }}>&#129120;</button>\n            <button className=\"main__nav-button main__nav-button_type_forward\" onClick={() => { forward(title) }}>&#129122;</button>\n          </>\n        }\n      </nav>\n    </main>\n  )\n}\n\nexport default Main;\n\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div>\r\n      <p className=\"footer__author\">&#169; {new Date().getFullYear()} MSE by Mikhail Kirichkov</p>\r\n      <p className=\"footer__gratitude\">Created with OMDb API</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Footer;","//ФК, отвечающий за рендер модалки с расширенной инфой\\\nimport React from 'react';\nimport imageNotFoundPath from \"../images/notFound.png\"\n\nfunction ModalWithInfo(props) {\n\n  return (\n    <div onClick={props.onClose} className={`info__wrapper ${props.isOpen ? 'info__wrapper_active' : \"\" }`}>\n      <div className=\"info\">\n        <div className=\"info__text-section\">\n          <h2 className=\"info__caption\">Director:</h2>\n          <p name=\"infoDirector\" className=\"info__text\">{props.data.Director}</p>\n          <h2 className=\"info__caption\">Actors:</h2>\n          <p name=\"infoActors\" className=\"info__text\">{props.data.Actors}</p>\n          <h2  className=\"info__caption\">Description:</h2>\n          <p name=\"infoAbout\" className=\"info__text info__about\">{props.data.Plot}</p>\n        </div>\n      <img className=\"info__poster\" src={props.data.Poster === \"N/A\" ? imageNotFoundPath : props.data.Poster} alt={props.data.Title}/>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalWithInfo;","//ФК, отвечающий за спиннер загрузки\r\nimport React from 'react';\r\n\r\nfunction LoadingSpinner({isLoading}) {\r\n\r\n  return (\r\n    <div className={`spinner__wrapper ${isLoading ? \"spinner__wrapper_active\" : \"\" }`}>\r\n      <div className=\"spinner\"></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingSpinner;","import React from 'react';\nimport './App.css';\nimport api from '../utils/api';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ModalWithInfo from './ModalWithInfo';\nimport LoadingSpinner from './LoadingSpinner';\n\nfunction App() {\n  //Хук, отвечающий за список фильмов\n  const [moviesList, setMoviesList] = React.useState([]);\n  //Хук, отвечающий за конкретный фильм, инфа о котором пойдет в модалку\n  const [currentMovie, setCurrentMovie] = React.useState({});\n  //Хук, отвечающий за открытие модалки с инфой\n  const [isInfoModalOpen, setIsInfoModalOpen] = React.useState(false);\n  //Хук, отвечающий за показ ошибки, если по запросу ничего не найдено\n  const [isErrorShow, setIsErrorShow] = React.useState(false);\n  //Хук, отвечающий за спиннер с загрузкой\n  const [isLoading, setIsLoading] = React.useState(false);\n  //Хук для страниц\n  const [page, setPage] = React.useState(1);\n  const [movieValue, setMovieValue] = React.useState(\"\");\n  const [totalPages, setTotalPages] = React.useState(null);\n\n  //Функция отвечает за отправку данных из инпута с названием фильма\n  function handleSearch(title) {\n    setIsLoading(true);\n    api.getMovies(title)\n      .then(res => {\n        if (res.Response === \"True\") {\n          const totalPages = Math.ceil(+res.totalResults / 10);\n          setTotalPages(totalPages);\n          setMoviesList(res.Search);\n          setIsErrorShow(false);\n          setIsLoading(false);\n          setPage(1);\n        }\n        else {\n          setMoviesList([]);\n          setIsErrorShow(true);\n          setIsLoading(false);\n          setPage(1);\n        }\n      })\n      .catch(err => console.log(err));\n  }\n\n  function forwardClick(title) {\n    if (page && page <= totalPages) {\n      setIsLoading(true);\n      page && api.getMoviesPage(title, page + 1)\n        .then(res => {\n          if (res.Response === \"True\") {\n            setMoviesList(res.Search);\n            setIsErrorShow(false);\n            setIsLoading(false);\n            setPage(page + 1)\n          }\n          else {\n            setMoviesList([]);\n            setIsErrorShow(true);\n            setIsLoading(false);\n          }\n        })\n        .catch(err => console.log(err));\n    } else {\n      return\n    }\n  }\n\n  function backClick(title) {\n    if (page && page > 1) {\n      setIsLoading(true);\n\n      page && api.getMoviesPage(title, page - 1)\n        .then(res => {\n          if (res.Response === \"True\") {\n            setMoviesList(res.Search);\n            setIsErrorShow(false);\n            setIsLoading(false);\n            setPage(page - 1)\n          }\n          else {\n            setMoviesList([]);\n            setIsErrorShow(true);\n            setIsLoading(false);\n          }\n        })\n        .catch(err => console.log(err));\n    } else {\n      return\n    }\n  }\n\n  //Функция делает запрос к АПИ по айди фильма, чтобы получить пул с расширенной инфой\n  function handleChoseMovie(id) {\n    api.getMoviesbyId(id)\n      .then(res => {\n        setCurrentMovie(res);\n        setIsInfoModalOpen(true);\n      })\n      .catch(err => console.log(err));\n  }\n\n  //Закрытие модалки с инфой\n  function handleCloseModal() {\n    setIsInfoModalOpen(false);\n  }\n\n  return (\n    <div className=\"App\">\n\n      <Header />\n\n      {\n        isInfoModalOpen\n          ?\n          <ModalWithInfo\n            data={currentMovie}\n            isOpen={isInfoModalOpen}\n            onClose={handleCloseModal}\n          />\n          :\n          <>\n            {isLoading\n              ?\n              <LoadingSpinner\n                isLoading={isLoading}\n              />\n              :\n              <Main\n                onSubmit={handleSearch}\n                movies={moviesList}\n                openInfo={handleChoseMovie}\n                showError={isErrorShow}\n                forward={forwardClick}\n                back={backClick}\n                title={movieValue}\n                setTitle={setMovieValue}\n                totalPages={totalPages}\n              />\n            }\n          </>\n      }\n\n      <Footer />\n\n    </div>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}