(this["webpackJsonpf-s-e"]=this["webpackJsonpf-s-e"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(4),o=n.n(i),s=(n(11),n(2)),r=(n(12),n(5)),u=n(6),l=(n(13),new(function(){function e(t,n){Object(r.a)(this,e),this._baseUrl=t,this._authorization=n}return Object(u.a)(e,[{key:"_checkStatus",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getMovies",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"?s=").concat(e,"&apikey=").concat(this._authorization)).then((function(e){return t._checkStatus(e)}))}},{key:"getMoviesbyId",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"?i=").concat(e,"&apikey=").concat(this._authorization,"&plot=full")).then((function(e){return t._checkStatus(e)}))}}]),e}())("https://www.omdbapi.com/","5cd3eeda")),h=n(0);var j=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"header__title",children:"Movie Search Engine"}),Object(h.jsx)("p",{className:"header__subtitle",children:"Search for your favourite movies by title"})]})},m=n.p+"static/media/notFound.0d61eb5c.png";var b=function(e){return Object(h.jsxs)("li",{className:"card",children:[Object(h.jsx)("img",{src:"N/A"===e.movie.Poster?m:e.movie.Poster,alt:e.movie.Title,className:"card__photo"}),Object(h.jsx)("h2",{className:"card__name",id:"cardName",children:e.movie.Title}),Object(h.jsx)("button",{className:"card__info",onClick:function(){e.openInfo(e.movie.imdbID)},children:"Learn more"})]},e.movie.imdbID)};var f=function(e){var t=e.movies,n=e.onSubmit,c=e.openInfo,i=e.showError,o=a.a.useState(""),r=Object(s.a)(o,2),u=r[0],l=r[1];return a.a.useEffect((function(){l("")}),[n]),Object(h.jsxs)("main",{className:"main",children:[Object(h.jsxs)("form",{className:"main__form",onSubmit:function(e){e.preventDefault(),n(u)},children:[Object(h.jsx)("input",{name:"movieTitle",className:"main__search-input",value:u,onChange:function(e){l(e.target.value)},placeholder:"Search for movies",minLength:"2",maxLength:"30",required:!0,autoFocus:!0}),Object(h.jsx)("button",{name:"submitButton",className:"main__search-button",type:"submit",children:"Search"})]}),Object(h.jsx)("p",{className:"main__error ".concat(i?"main__error_active":""),children:"No such movies found..."}),Object(h.jsx)("ul",{className:"main__grid",children:t.map((function(e){return Object(h.jsx)(b,{movie:e,openInfo:c},e.imdbID)}))})]})};var d=function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("p",{className:"footer__author",children:["\xa9 ",(new Date).getFullYear()," MSE by Mikhail Kirichkov"]}),Object(h.jsx)("p",{className:"footer__gratitude",children:"Created with OMDb API"})]})};var _=function(e){return Object(h.jsx)("div",{onClick:e.onClose,className:"info__wrapper ".concat(e.isOpen?"info__wrapper_active":""),children:Object(h.jsxs)("div",{className:"info",children:[Object(h.jsxs)("div",{className:"info__text-section",children:[Object(h.jsx)("h2",{className:"info__caption",children:"Director:"}),Object(h.jsx)("p",{name:"infoDirector",className:"info__text",children:e.data.Director}),Object(h.jsx)("h2",{className:"info__caption",children:"Actors:"}),Object(h.jsx)("p",{name:"infoActors",className:"info__text",children:e.data.Actors}),Object(h.jsx)("h2",{className:"info__caption",children:"Description:"}),Object(h.jsx)("p",{name:"infoAbout",className:"info__text info__about",children:e.data.Plot})]}),Object(h.jsx)("img",{className:"info__poster",src:e.data.Poster,alt:e.data.Title})]})})};var v=function(){var e=a.a.useState([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=a.a.useState({}),o=Object(s.a)(i,2),r=o[0],u=o[1],m=a.a.useState(!1),b=Object(s.a)(m,2),v=b[0],p=b[1],O=a.a.useState(!1),x=Object(s.a)(O,2),N=x[0],g=x[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(j,{}),Object(h.jsx)(f,{onSubmit:function(e){l.getMovies(e).then((function(e){"True"===e.Response?(c(e.Search),g(!1)):(c([]),g(!0))})).catch((function(e){return console.log(e)}))},movies:n,openInfo:function(e){l.getMoviesbyId(e).then((function(e){u(e),p(!0)})).catch((function(e){return console.log(e)}))},showError:N}),Object(h.jsx)(_,{data:r,isOpen:v,onClose:function(){p(!1)}}),Object(h.jsx)(d,{})]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),i(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),p()}},[[15,1,2]]]);
//# sourceMappingURL=main.75ca0bca.chunk.js.map